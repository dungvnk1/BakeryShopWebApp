@model KingBakery.Models.Users

@{
    ViewData["Title"] = "Create";

    var isAdmin = ViewBag.IsAdmin as bool? ?? false;
}

<!DOCTYPE html>
<head>
    <link href='https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
    <link href='//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/css/datepicker.min.css' rel='stylesheet' type='text/css'>
    <link href='//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/css/bootstrap-switch.css' rel='stylesheet' type='text/css'>
    <link href='https://davidstutz.github.io/bootstrap-multiselect/css/bootstrap-multiselect.css' rel='stylesheet' type='text/css'>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js' type='text/javascript'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0/js/bootstrap.min.js' type='text/javascript'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/js/bootstrap-datepicker.min.js' type='text/javascript'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/js/bootstrap-switch.min.js' type='text/javascript'></script>
    <script src='https://davidstutz.github.io/bootstrap-multiselect/js/bootstrap-multiselect.js' type='text/javascript'></script>
</head>
<body>
    <div class='container'>
        <div class='panel panel-primary dialog-panel'>
            <div class='panel-heading'>
                <h5>Tạo tài khoản mới</h5>
            </div>
            <div class='panel-body'>
                <form asp-action="Create" class='form-horizontal' role='form'>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Họ và tên</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="FullName" class='form-control' id='id_first_name' placeholder='Full Name' type='text'>
                                    <span asp-validation-for="FullName" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Tên đăng nhập</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="Username" class='form-control' id='id_user_name' placeholder='User Name' type='text'>
                                    <span asp-validation-for="Username" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Mật khẩu</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="Password" class='form-control' id='id_password' placeholder='Password' type='password'>
                                    <span asp-validation-for="Password" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Nhập lại mật khẩu</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="ConfirmPassword" class="form-control" placeholder="Confirm password" type="password" />
                                    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Địa chỉ</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="Address" class='form-control' id='id_address' placeholder='Address' type='text'>
                                    <span asp-validation-for="Address" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_checkin'>Ngày sinh</label>
                        <div class='col-md-8'>
                            <div class='col-md-8'>
                                <div class='form-group internal input-group'>
                                    <input asp-for="BirthDate" class='form-control datepicker' id='id_checkin'>
                                    <span class='input-group-addon'>
                                        <i class='glyphicon glyphicon-calendar'></i>
                                    </span>
                                    <span asp-validation-for="BirthDate" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Email</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="Email" class='form-control' id='id_email' placeholder='Email' type='text'>
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class='control-label col-md-2 col-md-offset-2' for='id_title'>Số điện thoại</label>
                        <div class='col-md-8'>
                            <div class='col-md-8 indent-small'>
                                <div class='form-group internal'>
                                    <input asp-for="PhoneNumber" class='form-control' id='id_phone_number' placeholder='PhoneNumber' type='text'>
                                    <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    @if (isAdmin)
                    {
                        <div class='form-group'>
                            <label class='control-label col-md-2 col-md-offset-2' for='id_role'>Vai trò</label>
                            <div class='col-md-2'>
                                <select asp-for="Role" asp-items="@ViewData["RoleSelectList"] as SelectList" class="form-control" id="id_role"></select>
                                <span asp-validation-for="Role" class="text-danger"></span>
                            </div>
                        </div>
                    }
                    <div class='form-group'>
                        <div class='col-md-offset-4 col-md-3'>
                            <button class='btn-lg btn-primary' type='submit'>Tạo tài khoản</button>
                        </div>
                    </div>
                </form>
                @if (TempData["SuccessMessage"] != null)
                {
                    <div class="alert alert-success text-center" role="alert">
                        @TempData["SuccessMessage"]
                    </div>
                }
                @if (!isAdmin)
                {
                    <div class='form-group'>
                        <label class="control-label col-md-2 col-md-offset-2">Bạn đã có tài khoản?</label>
                        <div class='col-md-3'>
                            <a asp-action="Login" asp-controller="Users" class='btn-lg btn-info'>Đăng nhập</a>
                        </div>
                    </div>
                }
                else
                {
                    <div class='form-group'>
                        <div class='col-md-offset-4 col-md-3'>
                            <a class='btn-lg btn-primary' asp-action="Index" asp-controller="Users">Quản lí người dùng</a>
                        </div>
                        <div class='col-md-3'>
                            <a class='btn-lg btn-danger' asp-action="Index" asp-controller="Home">Về trang chủ</a>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</body>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
